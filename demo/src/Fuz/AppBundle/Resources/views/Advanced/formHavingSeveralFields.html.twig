{% extends 'FuzAppBundle::layout.html.twig' %}

{% block extra_js %}
    <script src="{{ asset('bundles/fuzapp/js/collection/jquery.collection.js') }}"></script>
{% endblock %}

{% block title %}Advanced usage: custom theme and several fields{% endblock %}

{% block body %}

    <h2>{{ block('title') }}</h2>

    <p>
        An example that shows how works theming on a form with more than one field.
    </p>

    <p>
       Check out this page's
       <a href="https://github.com/ninsuo/symfony-collection/blob/master/demo/src/Fuz/AppBundle/Controller/AdvancedController.php" target="_blank">controller</a>,
       <a href="https://github.com/ninsuo/symfony-collection/blob/master/demo/src/Fuz/AppBundle/Resources/views/Advanced/addressesTheme.html.twig" target="_blank">theme</a>,
       <a href="https://github.com/ninsuo/symfony-collection/blob/master/demo/src/Fuz/AppBundle/Resources/views/Advanced/formHavingSeveralFields.html.twig" target="_blank">view</a>,
       <a href="https://github.com/ninsuo/symfony-collection/blob/master/demo/src/Fuz/AppBundle/Data/Addresses.php" target="_blank">collection entity</a>,
       <a href="https://github.com/ninsuo/symfony-collection/blob/master/demo/src/Fuz/AppBundle/Data/Address.php" target="_blank">child entity</a>,
       <a href="https://github.com/ninsuo/symfony-collection/blob/master/demo/src/Fuz/AppBundle/Form/Addresses.php" target="_blank">collection form</a>,
       and
       <a href="https://github.com/ninsuo/symfony-collection/blob/master/demo/src/Fuz/AppBundle/Form/Addresses.php" target="_blank">child form</a>.
       to know how to create such form and enable the plugin.
    </p>

    <hr/>

    <div class="row">
        {%
            form_theme form
                'FuzAppBundle::jquery.collection.html.twig'
                'FuzAppBundle:Advanced:addressesTheme.html.twig'
        %}
        {{ form(form) }}
    </div>

    {% for address in data.addresses %}
        <p>
            {{ address.name }} at {{ address.company }}, {{ address.street }}, {{ address.postalcode }} {{ address.city }}, {{ address.country }}
        </p>
    {% endfor %}

{% endblock %}

{% block script %}

    <script type="text/javascript">
        $('.collection').collection({
            'drag_drop_options': {
                'placeholder': null
            }
        });
    </script>

{% endblock %}
