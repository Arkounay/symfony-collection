{% extends 'FuzAppBundle::layout.html.twig' %}

{% block extra_js %}
    <script src="{{ asset('bundles/fuzapp/js/collection/jquery.collection.js') }}"></script>
{% endblock %}

{% block title %}Basic usage{% endblock %}

{% block body %}

    <h2>Basic usage</h2>

    <p>This is a collection of simple text fields using the plugin with all default options.</p>

    <p>
       Check out this page's
       <a href="https://github.com/ninsuo/symfony2-collection/blob/master/demo/src/Fuz/AppBundle/Controller/BasicController.php" target="_blank">controller</a>
       and
       <a href="https://github.com/ninsuo/symfony2-collection/blob/master/demo/src/Fuz/AppBundle/Resources/views/Basic/basic.html.twig" target="_blank">view</a>
       to know how to create such form and enable the plugin.
    </p>

    <hr/>

    {{ form(form) }}

    <hr/>

    {% for value in data.values %}
        <p>Value : {{ value }}</p>
    {% endfor %}

    <hr/>

    <p>Code used:</p>
    <pre>{{ block('script') | e }}</pre>

{% endblock %}

{% block script %}

    <!--
        Note that data-collection and data-name contents are generated by the form component, I used
        {% verbatim %}data-collection="{{ form.values.vars.id }}" data-name="{{ form.values.vars.full_name }}"{% endverbatim %}
     -->
    <div class="my-selector" data-collection="{{ form.values.vars.id }}" data-name="{{ form.values.vars.full_name }}"></div>

    <script type="text/javascript">
        $('.my-selector').collection();
    </script>

{% endblock %}